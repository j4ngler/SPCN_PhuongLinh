{% extends "base.html" %}

{% block title %}Th·ªùi kh√≥a bi·ªÉu - Tu·∫ßn n√†y c·ªßa b·∫°n{% endblock %}

{% block content %}
<div class="dashboard">
    <h1>üìÖ Th·ªùi kh√≥a bi·ªÉu - Tu·∫ßn n√†y c·ªßa b·∫°n</h1>

    <p class="subtitle">
        Nh·∫≠p th·ªùi kh√≥a bi·ªÉu trong tu·∫ßn (trong tr∆∞·ªùng). M·ªói √¥ t∆∞∆°ng ·ª©ng v·ªõi 1 ti·∫øt h·ªçc.
        B·∫°n c√≥ th·ªÉ nh·∫≠p <strong>m√£ m√¥n</strong> (VD: TOAN, VAN, ANH) <em>ho·∫∑c</em> <strong>t√™n m√¥n</strong> (VD: To√°n, V·∫≠t l√Ω).
        H·ªá th·ªëng s·∫Ω t·ª± c·ªë g·∫Øng kh·ªõp v·ªõi danh s√°ch m√¥n h·ªçc, n·∫øu kh√¥ng kh·ªõp s·∫Ω coi ƒë√≥ l√† m√¥n t·ª± do.
    </p>

    {% if message %}
    <div class="alert success">{{ message }}</div>
    {% endif %}

    {% if error %}
    <div class="alert error">{{ error }}</div>
    {% endif %}

    <form method="post" class="card">
        <h2>üìù Nh·∫≠p th·ªùi kh√≥a bi·ªÉu</h2>
        <p class="small-text">
            M·ªói b·∫£ng t∆∞∆°ng ·ª©ng v·ªõi m·ªôt bu·ªïi h·ªçc. H√†ng ngang l√† <strong>ti·∫øt h·ªçc</strong>, c·ªôt d·ªçc l√† <strong>Th·ª© 2 ‚Üí Th·ª© 7</strong>.
            H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông ƒë·∫øm t·ªïng s·ªë bu·ªïi/tu·∫ßn cho t·ª´ng m√¥n d·ª±a tr√™n c·∫£ hai b·∫£ng.
        </p>

        <div class="timetable-table-wrapper">
            <h3>‚òÄÔ∏è Bu·ªïi s√°ng (Ti·∫øt 1 ‚Üí 5)</h3>
            <table class="timetable-table">
                <thead>
                    <tr>
                        <th>Ti·∫øt \ Th·ª©</th>
                        <th>Th·ª© 2</th>
                        <th>Th·ª© 3</th>
                        <th>Th·ª© 4</th>
                        <th>Th·ª© 5</th>
                        <th>Th·ª© 6</th>
                        <th>Th·ª© 7</th>
                    </tr>
                </thead>
                <tbody>
                    {% for period in [1, 2, 3, 4, 5] %}
                    <tr>
                        <td class="period-col">Ti·∫øt {{ period }}</td>
                        {% for d_key in ['t2','t3','t4','t5','t6','t7'] %}
                        <td>
                            <input
                                type="text"
                                name="slot_{{ d_key }}_{{ period }}"
                                placeholder="M√£ m√¥n"
                                list="subjects_list"
                            >
                        </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="timetable-table-wrapper" style="margin-top: 2rem;">
            <h3>üåô Bu·ªïi chi·ªÅu (Ti·∫øt 6 ‚Üí 10)</h3>
            <table class="timetable-table">
                <thead>
                    <tr>
                        <th>Ti·∫øt \ Th·ª©</th>
                        <th>Th·ª© 2</th>
                        <th>Th·ª© 3</th>
                        <th>Th·ª© 4</th>
                        <th>Th·ª© 5</th>
                        <th>Th·ª© 6</th>
                        <th>Th·ª© 7</th>
                    </tr>
                </thead>
                <tbody>
                    {% for period in [6, 7, 8, 9, 10] %}
                    <tr>
                        <td class="period-col">Ti·∫øt {{ period }}</td>
                        {% for d_key in ['t2','t3','t4','t5','t6','t7'] %}
                        <td>
                            <input
                                type="text"
                                name="slot_{{ d_key }}_{{ period }}"
                                placeholder="M√£ m√¥n"
                                list="subjects_list"
                            >
                        </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        {% if all_subjects %}
        <datalist id="subjects_list">
            {% for subj in all_subjects %}
            <option value="{{ subj.subject_code }}">{{ subj.subject_name }}</option>
            {% endfor %}
        </datalist>
        {% endif %}

        <div class="form-actions">
            <button type="submit" class="btn primary">L∆∞u th·ªùi kh√≥a bi·ªÉu tu·∫ßn</button>
        </div>
    </form>

    <p class="small-text">
        Sau khi l∆∞u, h√£y quay l·∫°i Dashboard ƒë·ªÉ xem ph·∫ßn ph√¢n t√≠ch k·∫øt h·ª£p gi·ªØa AI Score v√†
        <strong>s·ªë bu·ªïi/tu·∫ßn</strong> cho t·ª´ng m√¥n (d·ª±a tr√™n th·ªùi kh√≥a bi·ªÉu b·∫°n v·ª´a nh·∫≠p).
    </p>
</div>
{% endblock %}


